<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from /home/mfocchi/ros_ws/install/share/aliengo_description/robots/aliengo.urdf.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="aliengo" xmlns:xacro="http://ros.org/wiki/xacro">
  <!-- <xacro:arg name="task_period" default="0.01"/> -->
  <!-- <xacro:arg name="task_period" default="0.008"/> -->
  <!--Add sensors to robot urdf-->
  <!-- IMPORTANT alle these values are different from the ones in the official aliengo description
    (https://github.com/unitreerobotics/unitree_ros/blob/master/robots/aliengo_description/xacro/const.xacro)
     because they are in our HyQ /HyQReal convention, while their convention is to have all frames aligned with base frame when legs are stetched -->
  <!-- we do not set these because we do not know how to compute them"/> -->
  <!-- we do not set these because we do not know how to compute them"/> -->
  <!-- we do not set these because we do not know how to compute them"/> -->
  <!--??-->
  <material name="black">
    <color rgba="0.0 0.0 0.0 1.0"/>
  </material>
  <material name="blue">
    <color rgba="0.0 0.0 0.8 1.0"/>
  </material>
  <material name="green">
    <color rgba="0.0 0.8 0.0 1.0"/>
  </material>
  <material name="grey">
    <color rgba="0.2 0.2 0.2 1.0"/>
  </material>
  <material name="silver">
    <color rgba="0.913725490196 0.913725490196 0.847058823529 1.0"/>
  </material>
  <material name="orange">
    <color rgba="1.0 0.423529411765 0.0392156862745 1.0"/>
  </material>
  <material name="brown">
    <color rgba="0.870588235294 0.811764705882 0.764705882353 1.0"/>
  </material>
  <material name="red">
    <color rgba="0.8 0.0 0.0 1.0"/>
  </material>
  <material name="white">
    <color rgba="1.0 1.0 1.0 1.0"/>
  </material>
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="gazebo_ros_controller_manager">
      <robotNamespace>/aliengo</robotNamespace>
      <robotSimType>dls_gazebo_interface/DefaultRobotHWSim</robotSimType>
      <controlPeriod>0.004</controlPeriod>
      <legacyModeNS>true</legacyModeNS>
    </plugin>
    <!-- Odometry plugin -->
    <plugin filename="libgazebo_ros_p3d.so" name="gazebo_ros_p3d">
      <robotNamespace>/aliengo</robotNamespace>
      <bodyName>trunk</bodyName>
      <topicName>ground_truth</topicName>
      <frameName>world</frameName>
      <xyzOffsets>0 0 0</xyzOffsets>
      <rpyOffsets>0 0 0</rpyOffsets>
      <gaussianNoise>0</gaussianNoise>
      <alwaysOn>true</alwaysOn>
      <updateRate>250.0</updateRate>
    </plugin>
  </gazebo>
  <joint name="floating_base" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="base_link"/>
    <child link="trunk"/>
  </joint>
  <!-- Links -->
  <!-- Footprint link -->
  <link name="base_link">
    <visual>
      <geometry>
        <cylinder length="0.01" radius="0.01"/>
      </geometry>
    </visual>
  </link>
  <!-- Trunk link -->
  <link name="trunk">
    <inertial>
      <origin xyz="0.008465 0.0 -0.000763"/>
      <mass value="18.041"/>
      <inertia ixx="0.050874" ixy="-0.000451628" ixz="0.000487603" iyy="0.64036" iyz="0.000487603" izz="0.65655"/>
    </inertial>
    <visual>
      <origin rpy="0 0 3.14159265359" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://aliengo_description/meshes/trunk/combined_torso.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 3.14159265359" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://aliengo_description/meshes/trunk/combined_torso.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="trunk">
    <kp>100000000.0</kp>
    <kd>100.0</kd>
    <mu1>1.5</mu1>
    <mu2>1.5</mu2>
    <maxVel>1.0</maxVel>
    <maxContacts>10</maxContacts>
    <minDepth>0.00</minDepth>
  </gazebo>
  <sensor name="trunk_contact_sensor" type="contact">
    <always_on>true</always_on>
    <update_rate>100.0</update_rate>
    <contact>
      <collision>trunk_collision</collision>
    </contact>
    <plugin filename="libgazebo_ros_bumper.so" name="trunk_bumper">
      <bumperTopicName>/trunk_sensor</bumperTopicName>
      <frameName>base_link</frameName>
    </plugin>
  </sensor>
  <!-- BASE LINK -->
  <!-- floating type is supported in older versions of Gazebo. In new Gazebo if a link has no parent, it is supposed to be attached to a floating joint -->
  <!-- Floating-base Joint -->
  <link name="world"/>
  <joint name="floating_base_joint" type="floating">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="world"/>
    <child link="base_link"/>
  </joint>
  <!-- Joints -->
  <!-- HAA joint -->
  <joint name="lf_haa_joint" type="revolute">
    <origin rpy="3.14159265359 1.57079632679 0" xyz="0.2399 0.051 0"/>
    <parent link="trunk"/>
    <child link="lf_hipassembly"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="44.0" lower="-1.2217304764" upper="1.2217304764" velocity="20.0"/>
    <safety_controller k_position="50" k_velocity="10" soft_lower_limit="-1.2217304764" soft_upper_limit="1.2217304764"/>
  </joint>
  <!-- HFE joint -->
  <joint name="lf_hfe_joint" type="revolute">
    <origin rpy="1.57079632679 0 0" xyz="0 -0.083 0"/>
    <parent link="lf_hipassembly"/>
    <child link="lf_upperleg"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="44.0" lower="-6.28318530718" upper="6.28318530718" velocity="20.0"/>
    <safety_controller k_position="50" k_velocity="10" soft_lower_limit="-6.28318530718" soft_upper_limit="6.28318530718"/>
  </joint>
  <!-- KFE joint -->
  <joint name="lf_kfe_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0.25 0 0"/>
    <parent link="lf_upperleg"/>
    <child link="lf_lowerleg"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="55.0" lower="-2.77507351067" upper="-0.645771823238" velocity="16.0"/>
    <safety_controller k_position="50.0" k_velocity="10.0" soft_lower_limit="-2.77507351067" soft_upper_limit="-0.645771823238"/>
  </joint>
  <!-- Foot joint -->
  <joint name="lf_foot_joint" type="fixed">
    <origin rpy="1.57079632679 0 -1.57079632679" xyz="0.25 0 0"/>
    <parent link="lf_lowerleg"/>
    <child link="lf_foot"/>
  </joint>
  <!-- Links -->
  <!-- Hip assembly link -->
  <link name="lf_hipassembly">
    <inertial>
      <origin xyz="1.5e-05 -0.015144 0.022191"/>
      <mass value="1.993"/>
      <inertia ixx="0.005586944" ixy="0.0" ixz="0.0" iyy="0.004907517" iyz="0.0" izz="0.002903894"/>
    </inertial>
    <visual>
      <origin rpy="0 -1.57079632679 -1.57079632679" xyz="0 -0.046 0"/>
      <geometry>
        <cylinder length="0.117" radius="0.0444"/>
      </geometry>
      <material name="black"/>
    </visual>
  </link>
  <!-- Upper leg link -->
  <link name="lf_upperleg">
    <inertial>
      <origin xyz="0.048199 0.005607 -0.003877"/>
      <mass value="0.639"/>
      <inertia ixx="0.000369811" ixy="0.0" ixz="0.0" iyy="0.005666803" iyz="0.0" izz="0.005847229"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://aliengo_description/meshes/leg/upperleg.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://aliengo_description/meshes/leg/upperleg.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <!-- Lower leg link -->
  <link name="lf_lowerleg">
    <inertial>
      <mass value="0.267"/>
      <!-- com of foot only affects com along lowerlegh X direction -->
      <origin xyz="0.166671258427                      -0.002781                      6.3e-05"/>
      <!-- inertia of foot only affects inertia about Y and Z direction (huygens-steiner's theorem I_foot= m(p'*p*eye(3) - p*p')-->
      <inertia ixx="3.9188e-05" ixy="0.0" ixz="0.0" iyy="0.010091369" iyz="0.0" izz="0.010105157"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://aliengo_description/meshes/leg/lowerleg.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://aliengo_description/meshes/leg/lowerleg.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <!-- Foot link -->
  <link name="lf_foot">
    <visual>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <sphere radius="0.0265"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <sphere radius="0.0265"/>
      </geometry>
    </collision>
  </link>
  <!-- Hip assembly -->
  <transmission name="lf_haa_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="lf_haa_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="lf_haa_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- Upper leg -->
  <transmission name="lf_hfe_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="lf_hfe_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="lf_hfe_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- Lower leg -->
  <transmission name="lf_kfe_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="lf_kfe_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="lf_kfe_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="lf_haa_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="lf_kfe_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="lf_hfe_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="lf_upperleg">
    <kp>100000000.0</kp>
    <kd>100.0</kd>
    <mu1>1.5</mu1>
    <mu2>1.5</mu2>
    <maxVel>1.0</maxVel>
    <minDepth>0.00</minDepth>
  </gazebo>
  <gazebo reference="lf_lowerleg">
    <kp>100000000.0</kp>
    <kd>100.0</kd>
    <mu1>1.0</mu1>
    <mu2>1.0</mu2>
    <maxVel>1.0</maxVel>
    <maxContacts>1</maxContacts>
    <minDepth>0.00</minDepth>
    <sensor name="lf_shin_contact_sensor" type="contact">
      <always_on>true</always_on>
      <update_rate>250.0</update_rate>
      <contact>
        <collision>lf_lowerleg_collision</collision>
      </contact>
      <!-- the sensor readings in terms of force torques are expressed in the lowerleg frame
      because gazebo lumps the fake footframe with the real parent link, the normals are in the world frame-->
      <plugin filename="libgazebo_ros_bumper.so" name="lf_shin_bumper">
        <bumperTopicName>/aliengo/lf_shin_bumper</bumperTopicName>
      </plugin>
    </sensor>
  </gazebo>
  <gazebo reference="lf_foot">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>1.0</mu1>
    <mu2>1.0</mu2>
    <maxVel>1.0</maxVel>
    <maxContacts>1</maxContacts>
    <sensor name="lf_foot_contact_sensor" type="contact">
      <always_on>true</always_on>
      <update_rate>250.0</update_rate>
      <contact>
        <collision>lf_lowerleg_fixed_joint_lump__lf_foot_collision_1</collision>
      </contact>
      <!-- the sensor readings in terms of force torques are expressed in the lowerleg frame
        because gazebo lumps the fake footframe with the real parent link, the normals are in the world frame-->
      <plugin filename="libgazebo_ros_bumper.so" name="lf_foot_bumper">
        <bumperTopicName>/aliengo/lf_foot_bumper</bumperTopicName>
        <robotNamespace>aliengo</robotNamespace>
      </plugin>
    </sensor>
    <material>Gazebo/Black</material>
  </gazebo>
  <!-- Joints -->
  <!-- HAA joint -->
  <joint name="rf_haa_joint" type="revolute">
    <origin rpy="0 1.57079632679 0" xyz="0.2399 -0.051 0"/>
    <parent link="trunk"/>
    <child link="rf_hipassembly"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="44.0" lower="-1.2217304764" upper="1.2217304764" velocity="20.0"/>
    <safety_controller k_position="50" k_velocity="10" soft_lower_limit="-1.2217304764" soft_upper_limit="1.2217304764"/>
  </joint>
  <!-- HFE joint -->
  <joint name="rf_hfe_joint" type="revolute">
    <origin rpy="-1.57079632679 0 0" xyz="0 -0.083 0"/>
    <parent link="rf_hipassembly"/>
    <child link="rf_upperleg"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="44.0" lower="-6.28318530718" upper="6.28318530718" velocity="20.0"/>
    <safety_controller k_position="50" k_velocity="10" soft_lower_limit="-6.28318530718" soft_upper_limit="6.28318530718"/>
  </joint>
  <!-- KFE joint -->
  <joint name="rf_kfe_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0.25 0 0"/>
    <parent link="rf_upperleg"/>
    <child link="rf_lowerleg"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="55.0" lower="-2.77507351067" upper="-0.645771823238" velocity="16.0"/>
    <safety_controller k_position="50.0" k_velocity="10.0" soft_lower_limit="-2.77507351067" soft_upper_limit="-0.645771823238"/>
  </joint>
  <!-- Foot joint -->
  <joint name="rf_foot_joint" type="fixed">
    <origin rpy="1.57079632679 0 -1.57079632679" xyz="0.25 0 0"/>
    <parent link="rf_lowerleg"/>
    <child link="rf_foot"/>
  </joint>
  <!-- Links -->
  <!-- Hip assembly link -->
  <link name="rf_hipassembly">
    <inertial>
      <origin xyz="1.5e-05 -0.015144 -0.022191"/>
      <mass value="1.993"/>
      <inertia ixx="0.005586944" ixy="0.0" ixz="0.0" iyy="0.004907517" iyz="0.0" izz="0.002903894"/>
    </inertial>
    <visual>
      <origin rpy="0 -1.57079632679 -1.57079632679" xyz="0 -0.046 0"/>
      <geometry>
        <cylinder length="0.117" radius="0.0444"/>
      </geometry>
      <material name="black"/>
    </visual>
  </link>
  <!-- Upper leg link -->
  <link name="rf_upperleg">
    <inertial>
      <origin xyz="0.048199 0.005607 0.003877"/>
      <mass value="0.639"/>
      <inertia ixx="0.000369811" ixy="0.0" ixz="-0.0" iyy="0.005666803" iyz="-0.0" izz="0.005847229"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://aliengo_description/meshes/leg/upperleg.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://aliengo_description/meshes/leg/upperleg.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <!-- Lower leg link -->
  <link name="rf_lowerleg">
    <inertial>
      <mass value="0.267"/>
      <!-- com of foot only affects com along lowerlegh X direction -->
      <origin xyz="0.166671258427                      -0.002781                      6.3e-05"/>
      <!-- inertia of foot only affects inertia about Y and Z direction (huygens-steiner's theorem I_foot= m(p'*p*eye(3) - p*p')-->
      <inertia ixx="3.9188e-05" ixy="0.0" ixz="0.0" iyy="0.010091369" iyz="0.0" izz="0.010105157"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://aliengo_description/meshes/leg/lowerleg.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://aliengo_description/meshes/leg/lowerleg.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <!-- Foot link -->
  <link name="rf_foot">
    <visual>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <sphere radius="0.0265"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <sphere radius="0.0265"/>
      </geometry>
    </collision>
  </link>
  <!-- Hip assembly -->
  <transmission name="rf_haa_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="rf_haa_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="rf_haa_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- Upper leg -->
  <transmission name="rf_hfe_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="rf_hfe_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="rf_hfe_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- Lower leg -->
  <transmission name="rf_kfe_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="rf_kfe_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="rf_kfe_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="rf_haa_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="rf_kfe_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="rf_hfe_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="rf_upperleg">
    <kp>100000000.0</kp>
    <kd>100.0</kd>
    <mu1>1.5</mu1>
    <mu2>1.5</mu2>
    <maxVel>1.0</maxVel>
    <minDepth>0.00</minDepth>
  </gazebo>
  <gazebo reference="rf_lowerleg">
    <kp>100000000.0</kp>
    <kd>100.0</kd>
    <mu1>1.0</mu1>
    <mu2>1.0</mu2>
    <maxVel>1.0</maxVel>
    <maxContacts>1</maxContacts>
    <minDepth>0.00</minDepth>
    <sensor name="rf_shin_contact_sensor" type="contact">
      <always_on>true</always_on>
      <update_rate>250.0</update_rate>
      <contact>
        <collision>rf_lowerleg_collision</collision>
      </contact>
      <!-- the sensor readings in terms of force torques are expressed in the lowerleg frame
      because gazebo lumps the fake footframe with the real parent link, the normals are in the world frame-->
      <plugin filename="libgazebo_ros_bumper.so" name="rf_shin_bumper">
        <bumperTopicName>/aliengo/rf_shin_bumper</bumperTopicName>
      </plugin>
    </sensor>
  </gazebo>
  <gazebo reference="rf_foot">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>1.0</mu1>
    <mu2>1.0</mu2>
    <maxVel>1.0</maxVel>
    <maxContacts>1</maxContacts>
    <sensor name="rf_foot_contact_sensor" type="contact">
      <always_on>true</always_on>
      <update_rate>250.0</update_rate>
      <contact>
        <collision>rf_lowerleg_fixed_joint_lump__rf_foot_collision_1</collision>
      </contact>
      <!-- the sensor readings in terms of force torques are expressed in the lowerleg frame
        because gazebo lumps the fake footframe with the real parent link, the normals are in the world frame-->
      <plugin filename="libgazebo_ros_bumper.so" name="rf_foot_bumper">
        <bumperTopicName>/aliengo/rf_foot_bumper</bumperTopicName>
        <robotNamespace>aliengo</robotNamespace>
      </plugin>
    </sensor>
    <material>Gazebo/Black</material>
  </gazebo>
  <!-- Joints -->
  <!-- HAA joint -->
  <joint name="lh_haa_joint" type="revolute">
    <origin rpy="3.14159265359 1.57079632679 0" xyz="-0.2399 0.051 0"/>
    <parent link="trunk"/>
    <child link="lh_hipassembly"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="44.0" lower="-1.2217304764" upper="1.2217304764" velocity="20.0"/>
    <safety_controller k_position="50" k_velocity="10" soft_lower_limit="-1.2217304764" soft_upper_limit="1.2217304764"/>
  </joint>
  <!-- HFE joint -->
  <joint name="lh_hfe_joint" type="revolute">
    <origin rpy="1.57079632679 0 0" xyz="0 -0.083 0"/>
    <parent link="lh_hipassembly"/>
    <child link="lh_upperleg"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="44.0" lower="-6.28318530718" upper="6.28318530718" velocity="20.0"/>
    <safety_controller k_position="50" k_velocity="10" soft_lower_limit="-6.28318530718" soft_upper_limit="6.28318530718"/>
  </joint>
  <!-- KFE joint -->
  <joint name="lh_kfe_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0.25 0 0"/>
    <parent link="lh_upperleg"/>
    <child link="lh_lowerleg"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="55.0" lower="-2.77507351067" upper="-0.645771823238" velocity="16.0"/>
    <safety_controller k_position="50.0" k_velocity="10.0" soft_lower_limit="-2.77507351067" soft_upper_limit="-0.645771823238"/>
  </joint>
  <!-- Foot joint -->
  <joint name="lh_foot_joint" type="fixed">
    <origin rpy="1.57079632679 0 -1.57079632679" xyz="0.25 0 0"/>
    <parent link="lh_lowerleg"/>
    <child link="lh_foot"/>
  </joint>
  <!-- Links -->
  <!-- Hip assembly link -->
  <link name="lh_hipassembly">
    <inertial>
      <origin xyz="1.5e-05 -0.015144 0.022191"/>
      <mass value="1.993"/>
      <inertia ixx="0.005586944" ixy="0.0" ixz="0.0" iyy="0.004907517" iyz="0.0" izz="0.002903894"/>
    </inertial>
    <visual>
      <origin rpy="0 -1.57079632679 -1.57079632679" xyz="0 -0.046 0"/>
      <geometry>
        <cylinder length="0.117" radius="0.0444"/>
      </geometry>
      <material name="black"/>
    </visual>
  </link>
  <!-- Upper leg link -->
  <link name="lh_upperleg">
    <inertial>
      <origin xyz="0.048199 0.005607 -0.003877"/>
      <mass value="0.639"/>
      <inertia ixx="0.000369811" ixy="0.0" ixz="0.0" iyy="0.005666803" iyz="0.0" izz="0.005847229"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://aliengo_description/meshes/leg/upperleg.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://aliengo_description/meshes/leg/upperleg.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <!-- Lower leg link -->
  <link name="lh_lowerleg">
    <inertial>
      <mass value="0.267"/>
      <!-- com of foot only affects com along lowerlegh X direction -->
      <origin xyz="0.166671258427                      -0.002781                      6.3e-05"/>
      <!-- inertia of foot only affects inertia about Y and Z direction (huygens-steiner's theorem I_foot= m(p'*p*eye(3) - p*p')-->
      <inertia ixx="3.9188e-05" ixy="0.0" ixz="0.0" iyy="0.010091369" iyz="0.0" izz="0.010105157"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://aliengo_description/meshes/leg/lowerleg.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://aliengo_description/meshes/leg/lowerleg.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <!-- Foot link -->
  <link name="lh_foot">
    <visual>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <sphere radius="0.0265"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <sphere radius="0.0265"/>
      </geometry>
    </collision>
  </link>
  <!-- Hip assembly -->
  <transmission name="lh_haa_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="lh_haa_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="lh_haa_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- Upper leg -->
  <transmission name="lh_hfe_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="lh_hfe_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="lh_hfe_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- Lower leg -->
  <transmission name="lh_kfe_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="lh_kfe_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="lh_kfe_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="lh_haa_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="lh_kfe_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="lh_hfe_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="lh_upperleg">
    <kp>100000000.0</kp>
    <kd>100.0</kd>
    <mu1>1.5</mu1>
    <mu2>1.5</mu2>
    <maxVel>1.0</maxVel>
    <minDepth>0.00</minDepth>
  </gazebo>
  <gazebo reference="lh_lowerleg">
    <kp>100000000.0</kp>
    <kd>100.0</kd>
    <mu1>1.0</mu1>
    <mu2>1.0</mu2>
    <maxVel>1.0</maxVel>
    <maxContacts>1</maxContacts>
    <minDepth>0.00</minDepth>
    <sensor name="lh_shin_contact_sensor" type="contact">
      <always_on>true</always_on>
      <update_rate>250.0</update_rate>
      <contact>
        <collision>lh_lowerleg_collision</collision>
      </contact>
      <!-- the sensor readings in terms of force torques are expressed in the lowerleg frame
      because gazebo lumps the fake footframe with the real parent link, the normals are in the world frame-->
      <plugin filename="libgazebo_ros_bumper.so" name="lh_shin_bumper">
        <bumperTopicName>/aliengo/lh_shin_bumper</bumperTopicName>
      </plugin>
    </sensor>
  </gazebo>
  <gazebo reference="lh_foot">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>1.0</mu1>
    <mu2>1.0</mu2>
    <maxVel>1.0</maxVel>
    <maxContacts>1</maxContacts>
    <sensor name="lh_foot_contact_sensor" type="contact">
      <always_on>true</always_on>
      <update_rate>250.0</update_rate>
      <contact>
        <collision>lh_lowerleg_fixed_joint_lump__lh_foot_collision_1</collision>
      </contact>
      <!-- the sensor readings in terms of force torques are expressed in the lowerleg frame
        because gazebo lumps the fake footframe with the real parent link, the normals are in the world frame-->
      <plugin filename="libgazebo_ros_bumper.so" name="lh_foot_bumper">
        <bumperTopicName>/aliengo/lh_foot_bumper</bumperTopicName>
        <robotNamespace>aliengo</robotNamespace>
      </plugin>
    </sensor>
    <material>Gazebo/Black</material>
  </gazebo>
  <!-- Joints -->
  <!-- HAA joint -->
  <joint name="rh_haa_joint" type="revolute">
    <origin rpy="0 1.57079632679 0" xyz="-0.2399 -0.051 0"/>
    <parent link="trunk"/>
    <child link="rh_hipassembly"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="44.0" lower="-1.2217304764" upper="1.2217304764" velocity="20.0"/>
    <safety_controller k_position="50" k_velocity="10" soft_lower_limit="-1.2217304764" soft_upper_limit="1.2217304764"/>
  </joint>
  <!-- HFE joint -->
  <joint name="rh_hfe_joint" type="revolute">
    <origin rpy="-1.57079632679 0 0" xyz="0 -0.083 0"/>
    <parent link="rh_hipassembly"/>
    <child link="rh_upperleg"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="44.0" lower="-6.28318530718" upper="6.28318530718" velocity="20.0"/>
    <safety_controller k_position="50" k_velocity="10" soft_lower_limit="-6.28318530718" soft_upper_limit="6.28318530718"/>
  </joint>
  <!-- KFE joint -->
  <joint name="rh_kfe_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0.25 0 0"/>
    <parent link="rh_upperleg"/>
    <child link="rh_lowerleg"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="55.0" lower="-2.77507351067" upper="-0.645771823238" velocity="16.0"/>
    <safety_controller k_position="50.0" k_velocity="10.0" soft_lower_limit="-2.77507351067" soft_upper_limit="-0.645771823238"/>
  </joint>
  <!-- Foot joint -->
  <joint name="rh_foot_joint" type="fixed">
    <origin rpy="1.57079632679 0 -1.57079632679" xyz="0.25 0 0"/>
    <parent link="rh_lowerleg"/>
    <child link="rh_foot"/>
  </joint>
  <!-- Links -->
  <!-- Hip assembly link -->
  <link name="rh_hipassembly">
    <inertial>
      <origin xyz="1.5e-05 -0.015144 -0.022191"/>
      <mass value="1.993"/>
      <inertia ixx="0.005586944" ixy="0.0" ixz="0.0" iyy="0.004907517" iyz="0.0" izz="0.002903894"/>
    </inertial>
    <visual>
      <origin rpy="0 -1.57079632679 -1.57079632679" xyz="0 -0.046 0"/>
      <geometry>
        <cylinder length="0.117" radius="0.0444"/>
      </geometry>
      <material name="black"/>
    </visual>
  </link>
  <!-- Upper leg link -->
  <link name="rh_upperleg">
    <inertial>
      <origin xyz="0.048199 0.005607 0.003877"/>
      <mass value="0.639"/>
      <inertia ixx="0.000369811" ixy="0.0" ixz="-0.0" iyy="0.005666803" iyz="-0.0" izz="0.005847229"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://aliengo_description/meshes/leg/upperleg.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://aliengo_description/meshes/leg/upperleg.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <!-- Lower leg link -->
  <link name="rh_lowerleg">
    <inertial>
      <mass value="0.267"/>
      <!-- com of foot only affects com along lowerlegh X direction -->
      <origin xyz="0.166671258427                      -0.002781                      6.3e-05"/>
      <!-- inertia of foot only affects inertia about Y and Z direction (huygens-steiner's theorem I_foot= m(p'*p*eye(3) - p*p')-->
      <inertia ixx="3.9188e-05" ixy="0.0" ixz="0.0" iyy="0.010091369" iyz="0.0" izz="0.010105157"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://aliengo_description/meshes/leg/lowerleg.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://aliengo_description/meshes/leg/lowerleg.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <!-- Foot link -->
  <link name="rh_foot">
    <visual>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <sphere radius="0.0265"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <sphere radius="0.0265"/>
      </geometry>
    </collision>
  </link>
  <!-- Hip assembly -->
  <transmission name="rh_haa_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="rh_haa_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="rh_haa_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- Upper leg -->
  <transmission name="rh_hfe_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="rh_hfe_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="rh_hfe_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- Lower leg -->
  <transmission name="rh_kfe_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="rh_kfe_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="rh_kfe_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="rh_haa_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="rh_kfe_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="rh_hfe_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="rh_upperleg">
    <kp>100000000.0</kp>
    <kd>100.0</kd>
    <mu1>1.5</mu1>
    <mu2>1.5</mu2>
    <maxVel>1.0</maxVel>
    <minDepth>0.00</minDepth>
  </gazebo>
  <gazebo reference="rh_lowerleg">
    <kp>100000000.0</kp>
    <kd>100.0</kd>
    <mu1>1.0</mu1>
    <mu2>1.0</mu2>
    <maxVel>1.0</maxVel>
    <maxContacts>1</maxContacts>
    <minDepth>0.00</minDepth>
    <sensor name="rh_shin_contact_sensor" type="contact">
      <always_on>true</always_on>
      <update_rate>250.0</update_rate>
      <contact>
        <collision>rh_lowerleg_collision</collision>
      </contact>
      <!-- the sensor readings in terms of force torques are expressed in the lowerleg frame
      because gazebo lumps the fake footframe with the real parent link, the normals are in the world frame-->
      <plugin filename="libgazebo_ros_bumper.so" name="rh_shin_bumper">
        <bumperTopicName>/aliengo/rh_shin_bumper</bumperTopicName>
      </plugin>
    </sensor>
  </gazebo>
  <gazebo reference="rh_foot">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>1.0</mu1>
    <mu2>1.0</mu2>
    <maxVel>1.0</maxVel>
    <maxContacts>1</maxContacts>
    <sensor name="rh_foot_contact_sensor" type="contact">
      <always_on>true</always_on>
      <update_rate>250.0</update_rate>
      <contact>
        <collision>rh_lowerleg_fixed_joint_lump__rh_foot_collision_1</collision>
      </contact>
      <!-- the sensor readings in terms of force torques are expressed in the lowerleg frame
        because gazebo lumps the fake footframe with the real parent link, the normals are in the world frame-->
      <plugin filename="libgazebo_ros_bumper.so" name="rh_foot_bumper">
        <bumperTopicName>/aliengo/rh_foot_bumper</bumperTopicName>
        <robotNamespace>aliengo</robotNamespace>
      </plugin>
    </sensor>
    <material>Gazebo/Black</material>
  </gazebo>
</robot>
